<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      >
    <ui:composition template="./../template.xhtml">
        <ui:define name="content">
           <h:form>
               <p:messages id="msgs" showDetail="true"/>
               <p:panel id="semesterInfo">
                   <p:panelGrid  columns="2">
                       <h:outputLabel for="kodSemestru" value="#{msgs.adminPageLabelKodSemestru}"/>
                        <h:outputText id="kodSemestru" value="#{adminPageMB.soucasny.kod}"/>
                        <h:outputLabel for="zacina" value="#{msgs.adminPageLabelZacina}"/>
                        <h:outputText id="zacina" value="#{adminPageMB.soucasny.getFormatedZacina()}"/>
                        <h:outputLabel for="konci" value="#{msgs.adminPageLabelKonci}"/>
                        <h:outputText id="konci" value="#{adminPageMB.soucasny.getFormatedKonci()}"/>
                        <h:outputLabel for="posledniAktualizace" value="#{msgs.adminPageLabelPosledniAktualizace}"/>
                        <h:outputText id="posledniAktualizace" value="#{adminPageMB.getLastUpdate()}"/>
                    </p:panelGrid>
               </p:panel>     
               <p:commandButton value="#{msgs.adminPageLabelDBbutton}" actionListener="#{adminPageMB.refreshDatabase()}" update="confDialog msgs" onclick="confirmDialog.show()"/>
               
               <p:dialog header="#{msgs.adminPageLabelDialogHeader}" widgetVar="confirmDialog" resizable="false"  
                                width="200" showEffect="clip" hideEffect="fold" modal="true">
                    <h:panelGrid id="confDialog">
                        <h:outputText value="#{adminPageMB.confDialog}" />
                    </h:panelGrid>
               </p:dialog>
               
           
               </h:form>
        </ui:define>
    </ui:composition>  
</html>









